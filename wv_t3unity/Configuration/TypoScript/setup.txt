[globalVar = GP:mode = page]
page = PAGE
page {
    typeNum = 0
    config.disableAllHeaderCode = 1
    config.metaCharset = UTF-8

    10 = FLUIDTEMPLATE
    10 {
        // Define BE Layouts
		file.stdWrap.cObject = CASE
		file.stdWrap.cObject {
			key.data = levelfield:-1, backend_layout_next_level, slide
			key.override.field = backend_layout

            default = TEXT
			default.value = EXT:wv_t3unity/Resources/Private/Templates/1column.html

            wv_t3unity__1column = TEXT
            wv_t3unity__1column.value = EXT:wv_t3unity/Resources/Private/Templates/1column.html

            wv_t3unity__2columns-left = TEXT
            wv_t3unity__2columns-left.value = EXT:wv_t3unity/Resources/Private/Templates/2columns-left.html

            wv_t3unity__2columns-right = TEXT
            wv_t3unity__2columns-right.value = EXT:wv_t3unity/Resources/Private/Templates/2columns-right.html

            wv_t3unity__3columns = TEXT
            wv_t3unity__3columns.value = EXT:wv_t3unity/Resources/Private/Templates/3columns.html
        }

        // Define paths for templates
        partialRootPath = EXT:wv_t3unity/Resources/Private/Partials/
        layoutRootPath = EXT:wv_t3unity/Resources/Private/Layouts/

        // Set variables in templates and render content
        // Variables in template
        variables {
            content < styles.content.get
            content.select.where = colPos=1

            sidebar_left < styles.content.get
            sidebar_left.select.where = colPos=2

            sidebar_right < styles.content.get
            sidebar_right.select.where = colPos=3
        }
    }
}
[global]

[globalVar = GP:mode = column]
page = PAGE
page {
    typeNum = 0
    config.disableAllHeaderCode = 1
    config.metaCharset = UTF-8

    10 = TEMPLATE
    10.template = TEXT
    10.template.value = ###CONTENT###
    10.marks {
        CONTENT < styles.content.get
        CONTENT.select.where = colPos={GP:colPos}
        CONTENT.select.where.insertData = 1
    }
}
[global]

[globalVar = GP:mode = element]
page = PAGE
page {
    typeNum = 0
    config.disableAllHeaderCode = 1
    config.metaCharset = UTF-8

    10 = TEMPLATE
    10.template = TEXT
    10.template.value = ###CONTENT###
    10.marks {
        CONTENT = RECORDS
        CONTENT.tables = tt_content
        CONTENT.source.data = GP:uid
        CONTENT.dontCheckPid = 1
    }
}
[global]

[globalVar = GP:mode = menu]
    page = PAGE
    page {
        typeNum = 0
        config.disableAllHeaderCode = 1
        config.metaCharset = UTF-8
        10 = CASE
        10 {
            key.data = GP:layout

            default = CASE
            default {
                key.data = GP:special

                default = HMENU
                default {
                    special = directory
                    special.value.data = GP:special-value

                    wrap = <nav class="t3-menu t3-directory">|</nav>

                    1 = TMENU
                    1 {
                        expAll = 1
                        wrap = <ul class="t3-menu-list">|</ul>
                        NO = 1
                        NO {
                            doNotLinkIt = 1
                            allWrap = <a href="{field: unity_path}">|</a>
                            allWrap.insertData = 1
                            wrapItemAndSub = <li class="first">|</li> |*| <li>|</li> |*| <li class="last">|</li>
                        }
                        ACT < .NO
                        ACT {
                            wrapItemAndSub = <li class="first active">|</li> |*| <li class="active">|</li> |*| <li class="last active">|</li>
                        }
                        IFSUB < .NO
                        IFSUB {
                            wrapItemAndSub = <li class="first hassub">|</li> |*| <li class="hassub">|</li> |*| <li class="last hassub">|</li>
                        }
                        ACTIFSUB < .NO
                        ACTIFSUB {
                            wrapItemAndSub = <li class="first active hassub">|</li> |*| <li class="active hassub">|</li> |*| <li class="last active hassub">|</li>
                        }
                    }
                    2 < .1
                    2 {
                        wrap = <ul class="t3-menu-sublist">|</ul>
                    }
                    3 < .2
                }
                list < .default
                list {
                    wrap = <nav class="t3-menu t3-list">|</nav>
                    special = list
                    1 {
                        expAll = 1
                        IFSUB < .NO
                        ACTIFSUB < .ACT
                    }
                }
            }

            menuItem < .default
            menuItem {
                default {
                    wrap >
                    1 {
                        wrap >
                        NO.wrapItemAndSub = <li>|</li>
                        ACT.wrapItemAndSub = <li class="active">|</li>
                        IFSUB.wrapItemAndSub = <li class="hassub">|</li>
                        ACTIFSUB.wrapItemAndSub = <li class="active hassub">|</li>
                    }
                }
                list {
                    wrap >
                    1 {
                        wrap >
                        NO.wrapItemAndSub = <li>|</li>
                        ACT.wrapItemAndSub = <li class="active">|</li>
                        IFSUB.wrapItemAndSub = <li class="hassub">|</li>
                        ACTIFSUB.wrapItemAndSub = <li class="active hassub">|</li>
                    }
                }
            }
        }
    }
[global]

page = PAGE
page {
    typeNum = 777
    config.disableAllHeaderCode = 1

    10 = TEMPLATE
    10.template = TEXT
    10.template.value (
{
    "title": "###TITLE###",
    "keywords": "###KEYWORDS###",
    "description": "###DESCRIPTION###",
    "canonical": "###CANONICAL###",
    "includeJs":[###INCLUDEJS###],
    "includeCss":[###INCLUDECSS###],
    "includeFooterJs":[###INCLUDEFOOTERJS###]
}
    )
    10.marks {
        TITLE = TEXT
        TITLE.data = page:title
        KEYWORDS = TEXT
        KEYWORDS.data = page:keywords
        DESCRIPTION = TEXT
        DESCRIPTION.data = page:description
        CANONICAL = TEXT
        CANONICAL.data = page:canonical_url
        INCLUDEJS = USER
        INCLUDEJS.userFunc = WebVision\WvT3unity\Service\HeaderDataService->getIncludeJs
        INCLUDECSS = USER
        INCLUDECSS.userFunc = WebVision\WvT3unity\Service\HeaderDataService->getIncludeCss
        INCLUDEFOOTERJS = USER
        INCLUDEFOOTERJS.userFunc = WebVision\WvT3unity\Service\HeaderDataService->getIncludeFooterJs
    }
}
